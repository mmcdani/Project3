---
title: "Modeling"
format:
  html:
    theme: cosmo
    toc: true
    output-dir: docs
---

### Introduction

Start with a basic introduction (feel free to repeat some things from the other file)

Necessary libraries

```{r}
library(tidymodels)
library(tidyr)
library(dplyr)
library(readr)
```

load data

```{r}
diabetes_data <- read_csv("data/diabetes_012_health_indicators_BRFSS2015.csv")
```

Create Diabeties_binary variable

```{r}
diabetes_data <- diabetes_data |>
  mutate(
    diabetes_binary = ifelse(Diabetes_012 == "No diabetes", 0, 1) |>                               factor(levels = c(0, 1))
  )
```

Split the data into a training (70%) of the data and a test set (30%) of the data. Set seed to make thing reproducible

```{r}
set.seed(11)
diabetes_split <- initial_split(diabetes_data, prop = 0.75, strata = diabetes_binary)
diabetes_train <- training(diabetes_split)
bike_test <- testing(diabetes_split)

#5 fold cross-validation
diabetes_5_fold <- vfold_cv(diabetes_train, 5) 
```

### Classification Tree

You should provide a thorough explanation of what a classification tree model is.

Then you should fit a classification tree with varying values for the complexity parameter and choose the best model (based on 5 fold CV on the training set). Include at least 5 predictors in this model

### Random Forest 
You should provide a thorough explanation of what a random forest is and why we might use it (be sure to relate this to a basic classification tree).

You should then fit a random forest model with varying values for the mtry parameter and choose the best model (based on 5 fold CV on the training set). Include at least 5 predictors in this model.

### Final Model Selection 
You should now have two best models (one for each model type above). Compare both models on the test set and declare an overall winner!

### Link to EDA 
[Click here for the EDA Page](EDA.html)